"use strict";var show=function(e){return console.log(e)},html=document.documentElement,body=document.querySelector("body"),getWindowHeight=function(){return document.documentElement.clientHeight},createElement=function(e){var t=document.createElement(e.element||"div");for(var n in e.attributes)t.setAttribute(n,e.attributes[n]);var l=e.parentElement;return l&&l.appendChild(t),t},getLazyImages=function(){return document.querySelectorAll("[data-src], [data-srcset]")},setActiveNavItem=function(e,t){var n=t.getBoundingClientRect();n.top+20>navPos.bottom&&n.top<getWindowHeight()/2||n.bottom>getWindowHeight()/2&&n.top<navPos.bottom?e.classList.add("nav__link--active"):e.classList.remove("nav__link--active")},nav=document.querySelector(".nav"),navLinks=nav.querySelectorAll(".nav__link"),navPos=nav.getBoundingClientRect();navLinks.forEach(function(t){var e=t.getAttribute("href").split("#")[1],n=document.querySelector("#"+e);setActiveNavItem(t,n),window.addEventListener("scroll",function(e){setActiveNavItem(t,n)})});var removePopup=function(e){body.removeChild(e),body.classList.remove("modal-open")},createPopup=function(e){var t=document.createElement("div");t.classList="modal__overlay",t.addEventListener("click",function(e){e.preventDefault(),e.target.classList.contains("modal__overlay")&&removePopup(t)},!0);var n=document.createElement("div");n.classList="modal",t.appendChild(n);var l=document.createElement("button");l.classList="close-btn modal__close-btn",l.setAttribute("type","button");var r=document.createElement("span");r.classList="visually-hidden",r.innerHTML="Zavřít",l.appendChild(r),l.addEventListener("click",function(e){e.preventDefault(),removePopup(t)});var o=e;n.appendChild(o),n.appendChild(l),body.appendChild(t),body.classList.add("modal-open"),t.style.display="flex",document.addEventListener("keydown",function(e){27===e.keyCode&&body.classList.contains("modal-open")&&removePopup(t)})},gallerySlider=function(e,t){var n=document.documentElement.clientWidth,l=e.querySelector(".gallery__list"),r=l.offsetWidth,o=e.querySelectorAll(".gallery__item"),a=Math.round(parseInt(window.getComputedStyle(o[0])["margin-right"])),i=t.count||4,c=e.querySelector(".gallery__btn--prev"),s=e.querySelector(".gallery__btn--next");n<751?i=1:n<977?i=2:n<1183&&(i=3);var d=Math.round(r/i-30*(i-1)/3);o.forEach(function(e){e.style.width="".concat(d,"px")});var u=0;c.addEventListener("click",function(){0<=(u=Math.round(u))||(s.classList.remove("controls__btn--disabled"),u+=d+a,l.style.transform="translate(".concat(u,"px)"),0<=u&&c.classList.add("controls__btn--disabled"))}),s.addEventListener("click",function(){u=Math.round(u),Math.abs(u)>=d*l.children.length+a*(l.children.length-1)-r||(c.classList.remove("controls__btn--disabled"),u-=d+a,l.style.transform="translate(".concat(u,"px)"),Math.abs(u)>=d*l.children.length+a*(l.children.length-1)-r&&s.classList.add("controls__btn--disabled"))})},fotoGallery=document.querySelector(".fotogallery-slider");gallerySlider(fotoGallery,{count:4}),window.addEventListener("resize",function(){gallerySlider(fotoGallery,{count:4})});var videoGallery=document.querySelector(".video__slider");gallerySlider(videoGallery,{count:3}),window.addEventListener("resize",function(){gallerySlider(videoGallery,{count:3})});var imagePopup=function(){var o=document.createElement("div");o.classList="gallery-popup__block";var e=document.createElement("picture");e.classList="gallery-popup__pic",o.appendChild(e);var a=document.createElement("source");a.srcset="",a.type="image/webp",e.appendChild(a);var i=document.createElement("img");i.classList="gallery-popup__img",e.appendChild(i);var c=document.createElement("p");c.classList="gallery-popup__descr",o.appendChild(c);var t=document.createElement("div");t.classList="modal__controls controls",o.appendChild(t);var n=document.createElement("button");n.classList="modal__btn modal__btn--prev controls__btn controls__btn--prev",n.type="button",n.innerHTML='<span class="visually-hidden">Předchozí</span>',t.appendChild(n);var s,l=document.createElement("button");l.classList="modal__btn modal__btn--next controls__btn controls__btn--next",l.type="button",l.innerHTML='<span class="visually-hidden">Dálší</span>',t.appendChild(l),document.querySelectorAll(".gallery__link").forEach(function(r){r.addEventListener("click",function(e){e.preventDefault(),s=r.closest(".gallery__item");var t=d(r.querySelector("img").getAttribute("src")),n=d(r.querySelector("source").getAttribute("srcset"));i.src=t,a.srcset=n;var l=r.querySelector(".gallery__img");c.textContent=l.alt,createPopup(o),document.querySelectorAll(".modal__btn").forEach(function(e){e.addEventListener("click",function(e){u(e)})})})});var d=function(e){if(html.clientWidth<768)return e.replace("@1x","@2x");var t=e.replace("-min","");return t=(t=t.replace("min/","")).replace("@1x","")},u=function(e){var t=e.target;if(t.classList.contains("modal__btn--prev")||37===e.keyCode){s.previousElementSibling||(s=s.parentElement.lastElementChild);var n=(s=s.previousElementSibling).querySelector(".gallery__img").alt;a.srcset=d(s.querySelector(".gallery__img").previousElementSibling.getAttribute("srcset")),i.src=d(s.querySelector(".gallery__img").getAttribute("src")),c.textContent=n}else if(t.classList.contains("modal__btn--next")||39===e.keyCode){s.nextElementSibling||(s=s.parentElement.firstElementChild);var l=(s=s.nextElementSibling).querySelector(".gallery__img").alt;a.srcset=d(s.querySelector(".gallery__img").previousElementSibling.getAttribute("srcset")),i.src=d(s.querySelector(".gallery__img").getAttribute("src")),c.textContent=l}};document.addEventListener("keydown",function(e){var t=document.querySelector(".gallery-popup__block");37!=e.keyCode&&39!=e.keyCode||!t||u(e)})};imagePopup();var bioAddHeight,open=!1,heightChecked=!1,initHeight=0,slideToggle=function(){var e="Read more",t="Read less";if("cs"==html.lang&&(e="Rozbalit",t="Sbalit"),open){bioBtn.textContent=e,open=!1;for(var n=bioAddHeight;0<=n;n--)bioAdd.style.height="".concat(n,"px")}else{bioBtn.textContent=t,open=!0;for(var l=0;l<bioAddHeight;l++)bioAdd.style.height="".concat(l,"px")}},bioBtn=document.querySelector(".bio__btn"),bioAdd=document.querySelector(".bio__add-text");setTimeout(function(){bioAddHeight=bioAdd.offsetHeight,bioAdd.style.height=0},100),bioBtn.addEventListener("click",function(){slideToggle(bioAdd)});var relocateParag=function(){var e=document.querySelector(".bio__descr"),t=document.querySelector(".bio__add-text"),n=document.querySelectorAll(".bio__text");html.clientWidth<992?t.insertBefore(n[1],t.children[0]):e.insertBefore(n[1],t)};relocateParag(),window.onresize=function(){relocateParag()};var cdBlock=document.querySelector(".cd"),cdLinks=cdBlock.querySelectorAll(".cd__link");cdLinks.forEach(function(r){r.addEventListener("click",function(e){e.preventDefault();var t=document.createElement("div");t.classList="cd-popup__block";for(var n=0;n<r.children.length;n++){var l=r.children[n].cloneNode(!0);t.appendChild(l)}createPopup(t)})});var piecesBlock=document.querySelector(".pieces"),piecesBtn=piecesBlock.querySelector(".pieces__btn");piecesBtn.addEventListener("click",function(e){e.preventDefault();var t=piecesBlock.querySelector(".container").cloneNode(!0);t.classList="pieces-popup__block",createPopup(t)});var setVideos=function(){document.querySelectorAll(".video__media").forEach(function(i){i.classList.contains("js-no-script")||i.addEventListener("click",function(e){e.preventDefault();var t=i.querySelector(".video__link"),n=i.querySelector(".video__img"),l=i.querySelector(".video__btn"),r=n.src.match(/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/([a-zA-Z0-9_-]+)default\.jpg/i)[1],o="https://www.youtube.com/embed/".concat(r,"/").concat("?rel=0&showinfo=0&autoplay=1"),a=document.createElement("iframe");a.setAttribute("allowfullscreen",""),a.setAttribute("src",o),a.classList="video__iframe",t.remove(),l.remove(),i.appendChild(a)})})};setVideos();var _nav=document.querySelector(".nav"),navList=_nav.querySelector(".nav__list"),navBtn=_nav.querySelector(".nav__btn"),langList=document.querySelector(".lang__list");navBtn.addEventListener("click",function(e){e.preventDefault(),navList.classList.toggle("nav__list--show"),langList.classList.toggle("lang__list--show")});var lazy=function(e){e.forEach(function(e){var t=e.getBoundingClientRect();if(t.top<html.clientHeight+200&&t.left<html.clientWidth+200&&"IMG"===e.tagName&&null!=e.getAttribute("data-src")){var n=e.getAttribute("data-src"),l=e.getAttribute("data-srcset");if(e.setAttribute("src",n),e.removeAttribute("data-src"),l&&(e.setAttribute("srcset",l),e.removeAttribute("data-srcset")),e.previousElementSibling&&"SOURCE"==e.previousElementSibling.tagName){var r=e.previousElementSibling,o=r.getAttribute("data-srcset");r.setAttribute("srcset",o),r.removeAttribute("data-srcset")}}})},images=getLazyImages();lazy(images),window.addEventListener("scroll",function(e){lazy(images)});var controlButtons=document.querySelectorAll(".js-controls__btn");controlButtons.forEach(function(e){e.addEventListener("click",function(e){lazy(images)})});var galleryList=document.querySelector(".js-photogallery__list").cloneNode(!0),galleryItems=galleryList.querySelectorAll(".js-gallery__item");galleryItems.forEach(function(e){e.style=""});var openGalleryBtn=document.querySelector(".js-gallery__open-full-btn"),gallery=createElement({element:"div",attributes:{class:"full-gallery-popup"}});gallery.appendChild(galleryList),openGalleryBtn.addEventListener("click",function(e){createPopup(gallery),lazy(getLazyImages())});